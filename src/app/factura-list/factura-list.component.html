<div class="container mt-5">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h2 class="fw-bold">LISTA DE FACTURAS</h2>
    <button class="btn btn-primary" (click)="handleCierreDeCaja()">
      Realizar Cierre de Caja
    </button>
  </div>
    <div class="overflow-x-auto table-responsive">
        <table class="min-w-full border-collapse table">
            <thead class="bg-blue-600 table-dark">
              <tr>
                <th class="p-3 text-center">SKU</th>
                <th class="p-3 text-center">NÚMERO DE ORDEN</th>
                <th class="p-3 text-center">FECHA</th>
                <th class="p-3 text-center">TOTAL</th>
                <th class="p-3 text-center">PAGO</th>
                <th class="p-3 text-center">ACCIÓNES</th>
              </tr>
            </thead>
            <tbody class="text-center">
              <tr *ngIf="facturas.length === 0">
                <td colspan="6">No hay facturas disponibles</td>
              </tr>
              <tr *ngFor="let factura of facturas">
                <td>{{ factura.id }}</td>
                <td>{{ factura.ordenId }}</td>
                <td>{{ factura.fecha }}</td>
                <td>S/.{{ factura.total }}</td>
                <td>{{ factura.pagada ? 'Cancelado' : 'Pendiente' }}</td>
                <td>
                  <button class="btn btn-success" (click)="marcarComoPagada(factura.id)" [disabled]="factura.pagada">
                    Pagar
                  </button>
                </td>
              </tr>
            </tbody>
          </table>
    </div>
    <nav aria-label="Page navigation">
      <ul class="pagination justify-content-center">
        <li class="page-item" [class.disabled]="currentPage === 1 || totalPages === 0">
          <button class="page-link" (click)="cambiarPagina(-1)" aria-label="Previous">
            <span aria-hidden="true">&laquo; Anterior</span>
          </button>
        </li>
        <li class="page-item disabled">
          <span class="page-link">Página {{ currentPage }} de {{ totalPages || 1 }}</span>
        </li>
        <li class="page-item" [class.disabled]="currentPage === totalPages || totalPages === 0">
          <button class="page-link" (click)="cambiarPagina(1)" aria-label="Next">
            <span aria-hidden="true">Siguiente &raquo;</span>
          </button>
        </li>
      </ul>
    </nav>
  </div>